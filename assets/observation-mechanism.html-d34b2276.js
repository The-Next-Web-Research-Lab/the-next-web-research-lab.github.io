import{_ as s}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c as d,a as e,b as t,d as a,e as n}from"./app-e9b42d51.js";const c={},l=n('<h1 id="observer-mechanism" tabindex="-1"><a class="header-anchor" href="#observer-mechanism" aria-hidden="true">#</a> Observer mechanism</h1><blockquote><p>This post was organized on May 20, 2019.</p></blockquote><h3 id="purpose-of-the-article" tabindex="-1"><a class="header-anchor" href="#purpose-of-the-article" aria-hidden="true">#</a> Purpose of the article</h3><blockquote><p>This post is written for the purpose of organizing data rather than delivering information, so it is not well organized.</p></blockquote><p>I remember finding a solution to performance issues day and night in a project using AngularJs. Because of that experience, I sometimes look at how the observer mechanisms of libraries are implemented. Personally, I think VueJs&#39;s observer mechanism is the most ideal. This is a material that summarizes the observer mechanisms implemented by each library.</p><h3 id="table-of-contents" tabindex="-1"><a class="header-anchor" href="#table-of-contents" aria-hidden="true">#</a> Table of contents</h3><ul><li>AngularJs</li><li>Angular</li><li>VueJs</li><li>React</li></ul><h3 id="observer-mechanism-by-library" tabindex="-1"><a class="header-anchor" href="#observer-mechanism-by-library" aria-hidden="true">#</a> Observer mechanism by library</h3><h4 id="angularjs" tabindex="-1"><a class="header-anchor" href="#angularjs" aria-hidden="true">#</a> AngularJs</h4><p>First, I summarized why performance issues occurred in AngularJs.</p><p>AngularJs uses <strong>$digest loop</strong> to detect changes, and <strong>$digest loop</strong> checks the changes of the models registered in <strong>$watcher</strong> and executes the event handlers registered in <strong>$watcher</strong> when changed.</p><p>If the model changes, the <strong>$digest loop</strong> is executed again and this is called <strong>Dirty Checking</strong>. Performance issues occur in this process, and performance decreases sharply when using a lot of models and directives.</p><h4 id="vuejs" tabindex="-1"><a class="header-anchor" href="#vuejs" aria-hidden="true">#</a> VueJs</h4>',13),h={href:"https://kr.vuejs.org/v2/guide/reactivity.html",target:"_blank",rel:"noopener noreferrer"},u=n(`<p><strong>Vue 2.0</strong> is implemented through <strong>Object.defineProperty</strong>. All properties passed through the <strong>data</strong> option are detected for changes through <strong>Object.defineProperty</strong>. However, there are limitations to <strong>Object.defineProperty</strong>.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- Only works on ES5 supported browsers
- Cannot detect property addition
- data cannot be declared as an array
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),p={href:"https://www.vuemastery.com/courses/advanced-components/build-a-reactivity-system",target:"_blank",rel:"noopener noreferrer"},m=n(`<p><strong>Vue 3.0</strong> is implemented through <strong>Proxy</strong>.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- Property addition / deletion
- Array index / length mutation
- Map, Set, WeakMap, WeakSet
- Classes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),g={href:"https://www.youtube.com/watch?v=8Hgt9HYaCDA",target:"_blank",rel:"noopener noreferrer"},b=e("strong",null,"Object.defineProperty",-1),f={href:"https://www.vuemastery.com/courses/advanced-components/evan-you-on-proxies",target:"_blank",rel:"noopener noreferrer"},v=e("h4",{id:"angular",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#angular","aria-hidden":"true"},"#"),t(" Angular")],-1),_={href:"https://github.com/angular/angular/search?l=TypeScript&q=defineProperty&type=",target:"_blank",rel:"noopener noreferrer"},y=e("p",null,[t("From Angular, change detection was implemented through "),e("strong",null,"Object.defineProperty"),t(". And RxJs's Observable is implemented in Vanilla Js as "),e("strong",null,"Subject and Observable pattern"),t(".")],-1),x=e("h4",{id:"react",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#react","aria-hidden":"true"},"#"),t(" React")],-1),w={href:"https://github.com/facebook/react/search?utf8=%E2%9C%93&q=defineProperty&type=",target:"_blank",rel:"noopener noreferrer"},k=e("p",null,[t("React also implemented change detection through "),e("strong",null,"Object.defineProperty"),t(". The scope of application is events, input forms, Props, etc.")],-1),P=e("h3",{id:"end",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#end","aria-hidden":"true"},"#"),t(" End")],-1),A=e("p",null,"There is no official data on how Angular and React are implemented. So I wrote it through the process of checking the Github code.",-1);function j(V,O){const r=o("ExternalLinkIcon");return i(),d("div",null,[l,e("blockquote",null,[e("p",null,[e("a",h,[t("Vue 2.0 Reactivity in Depth"),a(r)])])]),u,e("p",null,[t("Despite these drawbacks, all reactive properties are declared in advance and used as component state schemas, which is an advantage in terms of code maintenance. Detailed implementation can be found at "),e("a",p,[t("Vue Mastery - Build a Reactivity System"),a(r)]),t(".")]),m,e("p",null,[t("In the "),e("a",g,[t("video introducing Vue 3.0"),a(r)]),t(", Evan You explained the advantages of Proxy-based. It was possible to complement the drawbacks of "),b,t(", and the performance was improved. "),e("a",f,[t("Evan You on Proxies"),a(r)]),t(" seemed to show his intention to change.")]),v,e("blockquote",null,[e("p",null,[e("a",_,[t("Angular defineProperty"),a(r)]),t(" search")])]),y,x,e("blockquote",null,[e("p",null,[e("a",w,[t("React defineProperty"),a(r)]),t(" search")])]),k,P,A])}const q=s(c,[["render",j],["__file","observation-mechanism.html.vue"]]);export{q as default};
