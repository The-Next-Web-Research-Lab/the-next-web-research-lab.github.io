import{_ as e,c as a,o as t,a3 as r}from"./chunks/framework.COm4hYgr.js";const g=JSON.parse('{"title":"Observer mechanism","description":"","frontmatter":{"title":"Observer mechanism"},"headers":[],"relativePath":"en/essay/observation-mechanism.md","filePath":"en/essay/observation-mechanism.md"}'),s={name:"en/essay/observation-mechanism.md"},n=r(`<h1 id="observer-mechanism" tabindex="-1">Observer mechanism <a class="header-anchor" href="#observer-mechanism" aria-label="Permalink to &quot;Observer mechanism&quot;">​</a></h1><blockquote><p>This post was organized on May 20, 2019.</p></blockquote><h3 id="purpose-of-the-article" tabindex="-1">Purpose of the article <a class="header-anchor" href="#purpose-of-the-article" aria-label="Permalink to &quot;Purpose of the article&quot;">​</a></h3><blockquote><p>This post is written for the purpose of organizing data rather than delivering information, so it is not well organized.</p></blockquote><p>I remember finding a solution to performance issues day and night in a project using AngularJs. Because of that experience, I sometimes look at how the observer mechanisms of libraries are implemented. Personally, I think VueJs&#39;s observer mechanism is the most ideal. This is a material that summarizes the observer mechanisms implemented by each library.</p><h3 id="table-of-contents" tabindex="-1">Table of contents <a class="header-anchor" href="#table-of-contents" aria-label="Permalink to &quot;Table of contents&quot;">​</a></h3><ul><li>AngularJs</li><li>Angular</li><li>VueJs</li><li>React</li></ul><h3 id="observer-mechanism-by-library" tabindex="-1">Observer mechanism by library <a class="header-anchor" href="#observer-mechanism-by-library" aria-label="Permalink to &quot;Observer mechanism by library&quot;">​</a></h3><h4 id="angularjs" tabindex="-1">AngularJs <a class="header-anchor" href="#angularjs" aria-label="Permalink to &quot;AngularJs&quot;">​</a></h4><p>First, I summarized why performance issues occurred in AngularJs.</p><p>AngularJs uses <strong>$digest loop</strong> to detect changes, and <strong>$digest loop</strong> checks the changes of the models registered in <strong>$watcher</strong> and executes the event handlers registered in <strong>$watcher</strong> when changed.</p><p>If the model changes, the <strong>$digest loop</strong> is executed again and this is called <strong>Dirty Checking</strong>. Performance issues occur in this process, and performance decreases sharply when using a lot of models and directives.</p><h4 id="vuejs" tabindex="-1">VueJs <a class="header-anchor" href="#vuejs" aria-label="Permalink to &quot;VueJs&quot;">​</a></h4><blockquote><p><a href="https://kr.vuejs.org/v2/guide/reactivity.html" target="_blank" rel="noreferrer">Vue 2.0 Reactivity in Depth</a></p></blockquote><p><strong>Vue 2.0</strong> is implemented through <strong>Object.defineProperty</strong>. All properties passed through the <strong>data</strong> option are detected for changes through <strong>Object.defineProperty</strong>. However, there are limitations to <strong>Object.defineProperty</strong>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>- Only works on ES5 supported browsers</span></span>
<span class="line"><span>- Cannot detect property addition</span></span>
<span class="line"><span>- data cannot be declared as an array</span></span></code></pre></div><p>Despite these drawbacks, all reactive properties are declared in advance and used as component state schemas, which is an advantage in terms of code maintenance. Detailed implementation can be found at <a href="https://www.vuemastery.com/courses/advanced-components/build-a-reactivity-system" target="_blank" rel="noreferrer">Vue Mastery - Build a Reactivity System</a>.</p><p><strong>Vue 3.0</strong> is implemented through <strong>Proxy</strong>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>- Property addition / deletion</span></span>
<span class="line"><span>- Array index / length mutation</span></span>
<span class="line"><span>- Map, Set, WeakMap, WeakSet</span></span>
<span class="line"><span>- Classes</span></span></code></pre></div><p>In the <a href="https://www.youtube.com/watch?v=8Hgt9HYaCDA" target="_blank" rel="noreferrer">video introducing Vue 3.0</a>, Evan You explained the advantages of Proxy-based. It was possible to complement the drawbacks of <strong>Object.defineProperty</strong>, and the performance was improved. <a href="https://www.vuemastery.com/courses/advanced-components/evan-you-on-proxies" target="_blank" rel="noreferrer">Evan You on Proxies</a> seemed to show his intention to change.</p><h4 id="angular" tabindex="-1">Angular <a class="header-anchor" href="#angular" aria-label="Permalink to &quot;Angular&quot;">​</a></h4><blockquote><p><a href="https://github.com/angular/angular/search?l=TypeScript&amp;q=defineProperty&amp;type=" target="_blank" rel="noreferrer">Angular defineProperty</a> search</p></blockquote><p>From Angular, change detection was implemented through <strong>Object.defineProperty</strong>. And RxJs&#39;s Observable is implemented in Vanilla Js as <strong>Subject and Observable pattern</strong>.</p><h4 id="react" tabindex="-1">React <a class="header-anchor" href="#react" aria-label="Permalink to &quot;React&quot;">​</a></h4><blockquote><p><a href="https://github.com/facebook/react/search?utf8=%E2%9C%93&amp;q=defineProperty&amp;type=" target="_blank" rel="noreferrer">React defineProperty</a> search</p></blockquote><p>React also implemented change detection through <strong>Object.defineProperty</strong>. The scope of application is events, input forms, Props, etc.</p><h3 id="end" tabindex="-1">End <a class="header-anchor" href="#end" aria-label="Permalink to &quot;End&quot;">​</a></h3><p>There is no official data on how Angular and React are implemented. So I wrote it through the process of checking the Github code.</p>`,28),o=[n];function i(l,c,h,p,d,u){return t(),a("div",null,o)}const b=e(s,[["render",i]]);export{g as __pageData,b as default};
