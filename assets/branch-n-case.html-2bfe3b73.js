import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as p,c,a as s,b as n,d as i,e as a}from"./app-69da0665.js";const r={},l=a(`<h1 id="n-ways-to-write-a-branch" tabindex="-1"><a class="header-anchor" href="#n-ways-to-write-a-branch" aria-hidden="true">#</a> n ways to write a branch</h1><blockquote><p>This is a post I summarized on December 7, 2019.</p></blockquote><h3 id="purpose-of-the-article" tabindex="-1"><a class="header-anchor" href="#purpose-of-the-article" aria-hidden="true">#</a> Purpose of the article</h3><p>There are various ways to write a branch in JavaScript. In broad categories, there are statements and expressions. When I look at the branch writing code I use, statements are typically <code>switch</code> and <code>if</code>, and expressions are ternary operators and literals.</p><p>The main difference between statements and expressions is whether they can be values or not. Expressions are values, while statements cannot be values. The difference in whether they can be values or not shows the difference in branch writing between statements and expressions.</p><p>Let&#39;s take a closer look at what methods are available.</p><h3 id="order" tabindex="-1"><a class="header-anchor" href="#order" aria-hidden="true">#</a> Order</h3><ul><li>Write a branch as a statement</li><li>Write a branch as an expression</li><li>Summary</li></ul><h3 id="write-a-branch-as-a-statement" tabindex="-1"><a class="header-anchor" href="#write-a-branch-as-a-statement" aria-hidden="true">#</a> Write a branch as a statement</h3><p>There are two main ways to write a branch as a statement.</p><h4 id="switch-statement" tabindex="-1"><a class="header-anchor" href="#switch-statement" aria-hidden="true">#</a> switch statement</h4><p>First, <code>switch</code>. <code>switch</code> is used when you want to branch the same value into multiple cases, and when you want to make judgments in a chain.</p><p>This is an example of branching the same value into multiple cases. It has different return values depending on the <code>num</code> value.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// A</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// BB</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// CCC</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),u={href:"https://the-next-web-research-lab.github.io/fe-dev/design-patterns/gof/behavioral.html#%E1%84%8E%E1%85%A2%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%B7%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%89%E1%85%AB-chain-of-responsibility",target:"_blank",rel:"noopener noreferrer"},d=a(`<p>It moves on to the next condition when the condition is not true. The advantage of this form is that you can describe the code on the same line as the condition and the return statement.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token function">isObject</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;{}&#39;</span>
  <span class="token keyword">case</span> <span class="token function">isArray</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;[]&#39;</span>
  <span class="token keyword">case</span> <span class="token function">isBoolean</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;boolean&#39;</span>
  <span class="token keyword">case</span> <span class="token function">isNull</span><span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token operator">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;null&#39;</span>
  <span class="token keyword">default</span><span class="token operator">:</span>
    <span class="token keyword">return</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="if-statement" tabindex="-1"><a class="header-anchor" href="#if-statement" aria-hidden="true">#</a> if statement</h4><p>Next is <code>if</code>. <code>if</code> is used a lot when you want to handle something optionally. In my subjective judgment, when comparing the readability of <code>if else</code> with other syntaxes, the readability is reduced when using <code>if else</code> in combination. So I don&#39;t use <code>if</code> unless I want to handle something optionally.</p><p>This is a case of using <code>if else</code> and a case of using only <code>if</code>.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// if else</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// if</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="write-a-branch-as-an-expression" tabindex="-1"><a class="header-anchor" href="#write-a-branch-as-an-expression" aria-hidden="true">#</a> Write a branch as an expression</h3><p>There are also two ways to write a branch as an expression.</p><h4 id="literal" tabindex="-1"><a class="header-anchor" href="#literal" aria-hidden="true">#</a> Literal</h4><p>It is used to <strong>remove the branch</strong> when <strong>data can be secured as much as the branch</strong>. The more branches there are, the more difficult the code becomes. So I use one of the methods to remove the branch. Using literals, you can easily replace <code>switch</code>.</p><p>This is an example of replacing the code written in <code>switch</code> with a literal.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// switch</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// literal</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;BB&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;CCC&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token constant">A</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">BB</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">CCC</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span>num<span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">bar</span> <span class="token operator">=</span> <span class="token parameter">str</span> <span class="token operator">=&gt;</span> obj<span class="token punctuation">[</span>str<span class="token punctuation">]</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// A</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// BB</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// CCC</span>

<span class="token function">bar</span><span class="token punctuation">(</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token string">&#39;BB&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token string">&#39;CCC&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ternary-operator" tabindex="-1"><a class="header-anchor" href="#ternary-operator" aria-hidden="true">#</a> Ternary operator</h4><p>It is used when you want to <strong>force the evaluation of true and false</strong>. The codes written above can handle specific branches. But it does not force the cases other than the expected branches.</p><p>It is possible to handle cases other than the expected branches, but <strong>not forcing them is a big difference from the ternary operator</strong>. When you run <code>foo(3)</code>, the code below behaves differently from the intention.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// switch</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
    <span class="token comment">// default: return &#39;Z&#39; (not forced)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// if</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;A&#39;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;BB&#39;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;CCC&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// return &#39;Z&#39; (not forced)</span>
<span class="token punctuation">}</span>

<span class="token comment">// literal</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;BB&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;CCC&#39;</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> arr<span class="token punctuation">[</span>num<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>But you can use the ternary operator to prepare for unexpected cases. <strong>It reduces mistakes because it is mandatory</strong>.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span>
    <span class="token string-property property">&#39;A&#39;</span><span class="token operator">:</span>
    num <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span>
      <span class="token string-property property">&#39;BB&#39;</span><span class="token operator">:</span>
      num <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span>
        <span class="token string-property property">&#39;CCC&#39;</span><span class="token operator">:</span>
        <span class="token string">&#39;Z&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion" aria-hidden="true">#</a> Conclusion</h3><p>When judging from the perspective of readability for easy-to-understand code and the perspective of mandatory for code stability, it is hard to choose to use only one of the syntaxes. I think it is most ideal to use each code in the right place.</p><p>I have been using the code with these criteria recently.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>- When only true is needed: if statement
- When true and false are needed, when the branch is less than or equal to 2: ternary operator
- When the branch is more than 3, when the condition is more than 3: switch statement
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="summary" tabindex="-1"><a class="header-anchor" href="#summary" aria-hidden="true">#</a> Summary</h3><h4 id="statement" tabindex="-1"><a class="header-anchor" href="#statement" aria-hidden="true">#</a> Statement</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>switch statement
- When you want to judge the same value in multiple cases
- When you want to make judgments in a chain (chain of responsibility pattern)

if statement
- When you want to use it optionally
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="expression" tabindex="-1"><a class="header-anchor" href="#expression" aria-hidden="true">#</a> Expression</h4><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Literal
- When you want to remove the branch by securing data as much as the branch
- Easy to replace switch statement

Ternary operator
- When you want to force the evaluation of true and false
- Easy to replace if statement
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="end" tabindex="-1"><a class="header-anchor" href="#end" aria-hidden="true">#</a> End</h3>`,28);function k(m,v){const e=o("ExternalLinkIcon");return p(),c("div",null,[l,s("p",null,[n("This is an example of when you want to make judgments in a chain. It makes judgments in a chain and matches the "),s("a",u,[n("chain of responsibility pattern"),i(e)]),n(".")]),d])}const f=t(r,[["render",k],["__file","branch-n-case.html.vue"]]);export{f as default};
